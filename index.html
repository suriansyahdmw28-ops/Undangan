<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Pernikahan - Sonia & Suriansyah</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter for body, Playfair Display for headings -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            /* New background for the entire body */
            background-image: url('https://raw.githubusercontent.com/suriansyahdmw28-ops/Undangan/31b009a007ed178492d6fdbb2df1526af740a953/peaceminusone-graphics-design-q6iqw9nxw7r8g82s.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed; /* Keep background fixed when scrolling */
            color: #FFFFFF; /* Default text color for body, will be overridden by sections */
            line-height: 1.6;
            scroll-behavior: smooth;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 1rem; /* Responsive padding */
        }
        .section {
            /* Semi-transparent dark overlay for sections */
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
            border-radius: 1.5rem; /* More rounded corners */
            padding: 2.5rem 2rem; /* Responsive padding */
            margin-bottom: 2rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08); /* Softer shadow */
            text-align: center;
            color: #FFFFFF; /* Text color for content sections */
        }
        .hero-section {
            /* Now a semi-transparent black background, same as other sections */
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
            background-size: cover; /* Keep this for consistency, though not strictly needed for solid color */
            background-position: center;
            color: white; /* Text color for hero section */
            padding: 6rem 1rem; /* Responsive padding */
            border-radius: 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6);
            min-height: 400px; /* Ensure a minimum height */
        }


        }
        .heading-font {
            font-family: 'Playfair Display', serif;
        }
        .names {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            font-size: 3.5rem; /* Larger names */
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            color: #FFFFFF; /* Names color for hero/pre-opening */
            line-height: 1.1;
        }
        .and-text {
            font-size: 2rem;
            font-weight: 400;
            color: #FFFFFF; /* And text color for hero/pre-opening */
        }
        .date-time {
            font-size: 1.4rem;
            font-weight: 600;
            color: #FFFFFF; /* Date/time color for hero/pre-opening */
        }
        .button {
            display: inline-block;
            background-color: #A0522D; /* Terra cotta */
            color: white;
            padding: 0.85rem 2rem;
            border-radius: 0.75rem; /* More rounded */
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 10px rgba(160, 82, 45, 0.3);
        }
        .button:hover {
            background-color: #8B4513; /* Darker Sienna */
            transform: translateY(-2px);
        }
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Slightly larger grid items */
            gap: 1.5rem; /* More spacing */
            margin-top: 1.5rem;
        }
        .gallery-item img {
            width: 100%;
            height: 250px; /* Taller images */
            object-fit: cover;
            border-radius: 1rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        .gallery-item img:hover {
            transform: scale(1.03);
        }
        .divider {
            width: 80px;
            height: 3px;
            background-color: #A0522D;
            margin: 1.5rem auto;
            border-radius: 5px;
        }
        .music-controls {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            z-index: 1000;
            transition: opacity 0.5s ease; /* For fading in/out */
        }
        .music-button {
            background-color: #A0522D;
            color: white;
            border-radius: 9999px; /* Full rounded */
            padding: 0.75rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
        }
        .music-button:hover {
            background-color: #8B4513;
        }

        /* Pre-opening screen styles */
        .pre-opening-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* Background image from user's GitHub raw link (going_merry) */
            background-image: url('https://raw.githubusercontent.com/suriansyahdmw28-ops/Undangan/31b009a007ed178492d6fdbb2df1526af740a953/going_merry.jpg');
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6);
            z-index: 2000; /* On top of everything */
            transition: opacity 1s ease-out, visibility 1s ease-out;
            opacity: 1;
            visibility: visible;
        }
        .pre-opening-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .pre-opening-screen .names {
            font-size: 4rem; /* Larger names for opening */
            margin-bottom: 1rem;
        }
        .pre-opening-screen .and-text {
            font-size: 2.5rem;
        }
        .pre-opening-screen .button {
            margin-top: 2rem;
            font-size: 1.2rem;
            padding: 1rem 2.5rem;
        }

        /* Specific text colors within sections to ensure white */
        .section p, .section h2, .section strong, .section a {
            color: #FFFFFF; /* Ensure all text inside sections is white */
        }
        .section a.button { /* Keep button text white */
            color: white;
        }
        .section .names, .section .and-text, .section .date-time {
            color: #FFFFFF; /* Ensure names/date-time in sections are white */
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 0.75rem; /* Smaller padding on mobile */
            }
            .section {
                padding: 1.5rem 1rem; /* Smaller padding on mobile */
                margin-bottom: 1.5rem;
            }
            .hero-section {
                padding: 3rem 0.5rem; /* Smaller padding on mobile */
                min-height: 280px;
            }
            .names {
                font-size: 2.5rem; /* Smaller font size */
            }
            .and-text {
                font-size: 1.4rem; /* Smaller font size */
            }
            .date-time {
                font-size: 1.1rem; /* Smaller font size */
            }
            .text-lg { /* Adjust general text size */
                font-size: 1rem;
            }
            .text-xl {
                font-size: 1.125rem;
            }
            .text-2xl {
                font-size: 1.5rem;
            }
            .text-3xl {
                font-size: 1.875rem;
            }
            .gallery-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Smaller grid size */
                gap: 1rem;
            }
            .gallery-item img {
                height: 180px; /* Smaller gallery image height */
            }
            .music-controls {
                bottom: 1rem;
                right: 1rem;
            }
            .music-button {
                width: 45px;
                height: 45px;
                padding: 0.6rem;
            }
            .pre-opening-screen .names {
                font-size: 3rem;
            }
            .pre-opening-screen .and-text {
                font-size: 2rem;
            }
            .pre-opening-screen .button {
                font-size: 1.1rem;
                padding: 0.8rem 2rem;
            }
        }
        @media (max-width: 480px) {
            .names {
                font-size: 2rem;
            }
            .and-text {
                font-size: 1.2rem;
            }
            .date-time {
                font-size: 0.9rem;
            }
            .hero-section {
                padding: 2.5rem 0.5rem;
                min-height: 250px;
            }
            .section {
                padding: 1rem 0.75rem;
                margin-bottom: 1rem;
            }
            .button {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .gallery-grid {
                grid-template-columns: 1fr; /* Single column on very small screens */
            }
            .gallery-item img {
                height: 200px; /* Reasonable height for single column */
            }
            .pre-opening-screen .names {
                font-size: 2.5rem;
            }
            .pre-opening-screen .and-text {
                font-size: 1.5rem;
            }
            .pre-opening-screen .button {
                font-size: 1rem;
                padding: 0.7rem 1.5rem;
            }
        }
        <style>
        body {
            font-family: 'Inter', sans-serif;
            /* New background for the entire body */
            background-image: url('https://raw.githubusercontent.com/suriansyahdmw28-ops/Undangan/31b009a007ed178492d6fdbb2df1526af740a953/peaceminusone-graphics-design-q6iqw9nxw7r8g82s.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed; /* Keep background fixed when scrolling */
            color: #FFFFFF; /* Default text color for body, will be overridden by sections */
            line-height: 1.6;
            scroll-behavior: smooth;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 1rem; /* Responsive padding */
        }
        .section {
            /* Semi-transparent dark overlay for sections */
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
            border-radius: 1.5rem; /* More rounded corners */
            padding: 2.5rem 2rem; /* Responsive padding */
            margin-bottom: 2rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08); /* Softer shadow */
            text-align: center;
            color: #FFFFFF; /* Text color for content sections */
        }
        .hero-section {
            /* Now a semi-transparent black background, same as other sections */
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
            background-size: cover; /* Keep this for consistency, though not strictly needed for solid color */
            background-position: center;
            color: white; /* Text color for hero section */
            padding: 6rem 1rem; /* Responsive padding */
            border-radius: 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6);
            min-height: 400px; /* Ensure a minimum height */
        }
        .heading-font {
            font-family: 'Playfair Display', serif;
        }
        .names {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            font-size: 3.5rem; /* Larger names */
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            color: #FFFFFF; /* Names color for hero/pre-opening */
            line-height: 1.1;
            text-align: center; /* Memusatkan teks nama mempelai */
        }
        .and-text {
            font-size: 2rem;
            font-weight: 400;
            color: #FFFFFF; /* And text color for hero/pre-opening */
        }
        .date-time {
            font-size: 1.4rem;
            font-weight: 600;
            color: #FFFFFF; /* Date/time color for hero/pre-opening */
        }
        .button {
            display: inline-block;
            background-color: #A0522D; /* Terra cotta */
            color: white;
            padding: 0.85rem 2rem;
            border-radius: 0.75rem; /* More rounded */
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 10px rgba(160, 82, 45, 0.3);
        }
        .button:hover {
            background-color: #8B4513; /* Darker Sienna */
            transform: translateY(-2px);
        }
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Slightly larger grid items */
            gap: 1.5rem; /* More spacing */
            margin-top: 1.5rem;
        }
        .gallery-item img {
            width: 100%;
            height: 250px; /* Taller images */
            object-fit: cover;
            border-radius: 1rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        .gallery-item img:hover {
            transform: scale(1.03);
        }
        .divider {
            width: 80px;
            height: 3px;
            background-color: #A0522D;
            margin: 1.5rem auto;
            border-radius: 5px;
        }
        .music-controls {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            z-index: 1000;
            transition: opacity 0.5s ease; /* For fading in/out */
        }
        .music-button {
            background-color: #A0522D;
            color: white;
            border-radius: 9999px; /* Full rounded */
            padding: 0.75rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
        }
        .music-button:hover {
            background-color: #8B4513;
        }

        /* Pre-opening screen styles */
        .pre-opening-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* Background image from user's GitHub raw link (going_merry) */
            background-image: url('https://raw.githubusercontent.com/suriansyahdmw28-ops/Undangan/31b009a007ed178492d6fdbb2df1526af740a953/going_merry.jpg');
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6);
            z-index: 2000; /* On top of everything */
            transition: opacity 1s ease-out, visibility 1s ease-out;
            opacity: 1;
            visibility: visible;
        }
        .pre-opening-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .pre-opening-screen .names {
            font-size: 4rem; /* Larger names for opening */
            margin-bottom: 1rem;
        }
        .pre-opening-screen .and-text {
            font-size: 2.5rem;
        }
        .pre-opening-screen .button {
            margin-top: 2rem;
            font-size: 1.2rem;
            padding: 1rem 2.5rem;
        }

        /* Specific text colors within sections to ensure white */
        .section p, .section h2, .section strong, .section a {
            color: #FFFFFF; /* Ensure all text inside sections is white */
        }
        .section a.button { /* Keep button text white */
            color: white;
        }
        .section .names, .section .and-text, .section .date-time {
            color: #FFFFFF; /* Ensure names/date-time in sections are white */
        }

        /* Styles for the bank account box to make text visible */
        .section .grid .p-4 {
            background-color: white !important; /* Make it pure white and override any other background */
            color: black !important; /* Set text inside this div to black */
        }
        .section .grid .p-4 p,
        .section .grid .p-4 .font-semibold,
        .section .grid .p-4 .text-sm {
            color: black !important; /* Explicitly ensure all text elements inside this div are black */
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 0.75rem; /* Smaller padding on mobile */
            }
            .section {
                padding: 1.5rem 1rem; /* Smaller padding on mobile */
                margin-bottom: 1.5rem;
            }
            .hero-section {
                padding: 3rem 0.5rem; /* Smaller padding on mobile */
                min-height: 280px;
            }
            .names {
                font-size: 2.5rem; /* Smaller font size */
            }
            .and-text {
                font-size: 1.4rem; /* Smaller font size */
            }
            .date-time {
                font-size: 1.1rem; /* Smaller font size */
            }
            .text-lg { /* Adjust general text size */
                font-size: 1rem;
            }
            .text-xl {
                font-size: 1.125rem;
            }
            .text-2xl {
                font-size: 1.5rem;
            }
            .text-3xl {
                font-size: 1.875rem;
            }
            .gallery-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Smaller grid size */
                gap: 1rem;
            }
            .gallery-item img {
                height: 180px; /* Smaller gallery image height */
            }
            .music-controls {
                bottom: 1rem;
                right: 1rem;
            }
            .music-button {
                width: 45px;
                height: 45px;
                padding: 0.6rem;
            }
            .pre-opening-screen .names {
                font-size: 3rem;
            }
            .pre-opening-screen .and-text {
                font-size: 2rem;
            }
            .pre-opening-screen .button {
                font-size: 1.1rem;
                padding: 0.8rem 2rem;
            }
        }
        @media (max-width: 480px) {
            .names {
                font-size: 2rem;
            }
            .and-text {
                font-size: 1.2rem;
            }
            .date-time {
                font-size: 0.9rem;
            }
            .hero-section {
                padding: 2.5rem 0.5rem;
                min-height: 250px;
            }
            .section {
                padding: 1rem 0.75rem;
                margin-bottom: 1rem;
            }
            .button {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .gallery-grid {
                grid-template-columns: 1fr; /* Single column on very small screens */
            }
            .gallery-item img {
                height: 200px; /* Reasonable height for single column */
            }
            .pre-opening-screen .names {
                font-size: 2.5rem;
            }
            .pre-opening-screen .and-text {
                font-size: 1.5rem;
            }
            .pre-opening-screen .button {
                font-size: 1rem;
                padding: 0.7rem 1.5rem;
            }
        }
    </style>

</style>
</head>
<body>
    <!-- Pre-opening Screen -->
    <div id="preOpeningScreen" class="pre-opening-screen">
        <p class="text-2xl md:text-3xl font-light mb-4 heading-font">The Wedding Of</p>
        <h1 class="names">
            <span class="block">Sonia Agustina Oemar, S. Farm</span>
            <span class="and-text">&</span>
            <span class="block">Suriansyah, S. Kep., Ners</span>
        </h1>
        <p class="text-xl md:text-2xl font-semibold mt-4 heading-font">
            Rabu, 24 September 2025
        </p>
        <button id="openInvitationButton" class="button">Buka Undangan</button>

        <!-- Music Button on Pre-opening Screen -->
        <div class="music-controls absolute bottom-4 right-4">
            <button id="musicToggleButtonPre" class="music-button">
                <svg id="playIconPre" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                    <path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.307 2.796-1.664l11.54 6.347c1.268.697 1.268 2.637 0 3.334l-11.54 6.347C6.029 20.307 4.5 19.427 4.5 18.0V5.653Z" clip-rule="evenodd" />
                </svg>
                <svg id="pauseIconPre" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 hidden">
                    <path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25ZM14.25 5.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd" />
                </svg>
            </button>
        </div>
    </div>

    <!-- Main Invitation Content -->
    <div id="mainContent" class="hidden">
        <div class="container">
            <!-- Hero Section -->
            <div class="hero-section rounded-xl">
                <p class="text-xl md:text-2xl font-light mb-2 heading-font">The Wedding Of</p>
                <h1 class="names text-white">
                    <span class="block">Sonia Agustina Oemar, S. Farm</span>
                    <span class="and-text text-white">&</span>
                    <span class="block">Suriansyah, S. Kep., Ners</span>
                </h1>
                <p class="text-xl md:text-2xl font-semibold text-white mt-4 heading-font">
                    Rabu, 24 September 2025
                </p>
            </div>

            <!-- To Guest Section -->
            <div class="section">
                <p class="text-lg md:text-xl mb-4 heading-font">Kepada Yth.</p>
                <h2 class="text-2xl md:text-3xl font-bold mb-2 heading-font">
                    <span id="guestNamePlaceholder">Bapak/Ibu/Saudara/i</span>
                </h2>
                <p class="text-md">Tanpa mengurangi rasa hormat, kami mengundang Anda untuk hadir di acara pernikahan kami.</p>
            </div>

            <!-- Opening Verse/Quote Section -->
            <div class="section">
                <h2 class="text-2xl md:text-3xl font-bold mb-4 heading-font">Bismillahirrahmanirrahim</h2>
                <p class="text-lg italic">
                    "Maha Suci Allah yang telah menciptakan semuanya berpasang-pasangan, baik dari apa yang ditumbuhkan oleh bumi dan dari diri mereka sendiri maupun dari apa yang tidak mereka ketahui."
                </p>
                <p class="text-md mt-2">‚Äî QS. Yasin : 36</p>
            </div>

            <!-- Event Details Section - Akad Nikah -->
            <div class="section">
                <h2 class="text-3xl font-bold mb-4 heading-font">Akad Nikah</h2>
                <p class="date-time text-2xl font-semibold mb-2">Rabu, 24 September 2025</p>
                <p class="text-xl mb-4">Pukul 08:00 WITA</p>
                <p class="text-lg">
                    <strong>Lokasi:</strong> Rumah Mempelai<br>
                    Samping Masjid Jabal Rahmah Mandin, Pulau Laut Utara, Kab. Kotabaru, Kalimantan Selatan 72114
                </p>
                <a href="https://maps.app.goo.gl/Z5dU8usUaRLz9Xhv8" target="_blank" class="button mt-6">Lihat di Google Maps</a>
            </div>

            <!-- Event Details Section - Resepsi -->
            <div class="section">
                <h2 class="text-3xl font-bold mb-4 heading-font">Resepsi</h2>
                <p class="date-time text-2xl font-semibold mb-2">Rabu, 24 September 2025</p>
                <p class="text-xl mb-4">Pukul 10:00 WITA - Selesai</p>
                <p class="text-lg">
                    <strong>Lokasi:</strong> Rumah Mempelai<br>
                    Samping Masjid Jabal Rahmah Mandin, Pulau Laut Utara, Kab. Kotabaru, Kalimantan Selatan 72114
                </p>
                <a href="https://maps.app.goo.gl/Z5dU8usUaRLz9Xhv8" target="_blank" class="button mt-6">Lihat di Google Maps</a>
            </div>

            <!-- Gallery Section -->
            <div class="section">
                <h2 class="text-3xl font-bold mb-4 heading-font">Galeri Momen</h2>
                <div class="gallery-grid">
                    <div class="gallery-item">
                        <img src="https://raw.githubusercontent.com/suriansyahdmw28-ops/Undangan/31b009a007ed178492d6fdbb2df1526af740a953/peaceminusone-graphics-design-q6iqw9nxw7r8g82s.jpg" alt="Foto Pernikahan 1" onerror="this.onerror=null;this.src='https://placehold.co/400x300/E0BBE4/957DAD?text=Foto+1';">
                    </div>
                    <div class="gallery-item">
                        <img src="https://placehold.co/400x300/957DAD/E0BBE4?text=Foto+2" alt="Foto Pernikahan 2" onerror="this.onerror=null;this.src='https://placehold.co/400x300/957DAD/E0BBE4?text=Foto+2';">
                    </div>
                    <div class="gallery-item">
                        <img src="https://placehold.co/400x300/D291BC/6A0572?text=Foto+3" alt="Foto Pernikahan 3" onerror="this.onerror=null;this.src='https://placehold.co/400x300/D291BC/6A0572?text=Foto+3';">
                    </div>
                    <div class="gallery-item">
                        <img src="https://placehold.co/400x300/FFC72C/000000?text=Foto+4" alt="Foto Pernikahan 4" onerror="this.onerror=null;this.src='https://placehold.co/400x300/FFC72C/000000?text=Foto+4';">
                    </div>
                </div>
            </div>

            <!-- Gift Information Section (Optional) -->
            <div class="section">
                <h2 class="text-3xl font-bold mb-4 heading-font">Hadiah & Doa Restu</h2>
                <p class="text-lg mb-4">
                    Kehadiran dan doa restu Anda adalah hadiah terindah bagi kami. Namun, jika Anda ingin memberikan tanda kasih, Anda dapat menyalurkannya melalui:
                </p>
                <div class="grid grid-cols-1 gap-4 text-left">
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="font-semibold">Bank Mandiri</p>
                        <p class="text-sm">No. Rekening: 310021268571</p>
                        <p class="text-sm">Atas Nama: Sonia Agustina Oemar</p>
                    </div>
                </div>
            </div>

            <!-- Comment/Ucapan Selamat Section -->
            <div class="section">
                <h2 class="text-3xl font-bold mb-4 heading-font">Kirim Ucapan & Doa</h2>
                <p class="text-lg mb-4">
                    Silakan tinggalkan pesan, doa, atau ucapan selamat Anda untuk kami.
                </p>
                <textarea id="commentMessage" class="w-full p-3 border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-orange-300 text-gray-800" rows="5" placeholder="Tulis ucapan Anda di sini..."></textarea>
                <button id="sendCommentButton" class="button">Kirim Ucapan via WhatsApp</button>
                <p class="text-sm mt-2">
                    *Pesan akan dikirimkan langsung ke WhatsApp mempelai.
                </p>
            </div>

            <!-- Closing Section -->
            <div class="section">
                <h2 class="text-3xl font-bold mb-4 heading-font">Terima Kasih</h2>
                <p class="text-lg">
                    Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan hadir untuk memberikan doa restu.
                </p>
                <p class="text-lg mt-4">
                    Atas kehadiran dan doa restunya, kami mengucapkan terima kasih.
                </p>
                <div class="divider"></div>
                <p class="names text-3xl mt-6">
                    Sonia Agustina Oemar & Suriansyah
                </p>
                <p class="text-md mt-2">
                    Keluarga Besar
                </p>
            </div>

            <!-- Footer -->
            <footer class="text-center text-gray-500 text-sm py-4">
                &copy; 2024 Undangan Pernikahan. Dibuat dengan Cinta.
            </footer>
        </div>
    </div>

    <!-- Audio for Background Music -->
    <audio id="backgroundMusic" loop>
        <!-- Music from user's GitHub raw link -->
        <source src="https://github.com/suriansyahdmw28-ops/Undangan/raw/refs/heads/main/bigbangstill.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            let guestName = urlParams.get('to');

            if (guestName) {
                guestName = decodeURIComponent(guestName.replace(/\+/g, ' '));
                document.getElementById('guestNamePlaceholder').textContent = guestName;
            } else {
                document.getElementById('guestNamePlaceholder').textContent = 'Bapak/Ibu/Saudara/i';
            }

            const preOpeningScreen = document.getElementById('preOpeningScreen');
            const mainContent = document.getElementById('mainContent');
            const openInvitationButton = document.getElementById('openInvitationButton');
            const backgroundMusic = document.getElementById('backgroundMusic');
            const musicToggleButtonPre = document.getElementById('musicToggleButtonPre');
            const playIconPre = document.getElementById('playIconPre');
            const pauseIconPre = document.getElementById('pauseIconPre');

            // Initial state for music button on pre-opening screen
            playIconPre.classList.remove('hidden');
            pauseIconPre.classList.add('hidden');

            // Handle music toggle on pre-opening screen
            musicToggleButtonPre.addEventListener('click', function(event) {
                event.stopPropagation(); // Prevent click from bubbling to openInvitationButton
                if (backgroundMusic.paused) {
                    backgroundMusic.play();
                    playIconPre.classList.add('hidden');
                    pauseIconPre.classList.remove('hidden');
                } else {
                    backgroundMusic.pause();
                    playIconPre.classList.remove('hidden');
                    pauseIconPre.classList.add('hidden');
                }
            });

            // Open invitation and start music on button click
            openInvitationButton.addEventListener('click', function() {
                preOpeningScreen.classList.add('hidden'); // Hide pre-opening screen
                mainContent.classList.remove('hidden'); // Show main content
                backgroundMusic.play().catch(error => {
                    console.log('Music play failed after click:', error);
                });

                // Scroll to top of the main content after opening
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // JavaScript for Comment Section (Send via WhatsApp)
            const sendCommentButton = document.getElementById('sendCommentButton');
            const commentMessage = document.getElementById('commentMessage');
            const brideName = "Sonia Agustina Oemar";
            const groomName = "Suriansyah";
            const whatsappNumber = "6281234567890"; // Ganti dengan nomor WhatsApp mempelai (tanpa +)

            sendCommentButton.addEventListener('click', function() {
                const message = commentMessage.value.trim();
                if (message) {
                    const fullMessage = `Ucapan dari ${document.getElementById('guestNamePlaceholder').textContent}:\n\n"${message}"\n\nSelamat atas pernikahan ${brideName} & ${groomName}!`;
                    const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(fullMessage)}`;
                    window.open(whatsappUrl, '_blank');
                } else {
                    alert('Mohon tulis ucapan Anda terlebih dahulu.'); // Using alert for simplicity, consider custom modal for better UX
                }
            });
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bagian Komentar Undangan</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5; /* Light gray background */
        }
        /* Custom scrollbar for comments section */
        .comments-container::-webkit-scrollbar {
            width: 8px;
        }
        .comments-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .comments-container::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        .comments-container::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Custom modal styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-align: center;
            max-width: 90%;
            width: 400px;
        }
        .emoji-button {
            transition: transform 0.2s ease-in-out;
        }
        .emoji-button:hover {
            transform: scale(1.2);
        }
        .emoji-counter {
            font-size: 0.75rem;
            color: #6b7280;
        }
    </style>
</head>
<body class="p-4 bg-gradient-to-br from-purple-100 to-pink-100 min-h-screen flex items-center justify-center">
    <div class="max-w-2xl w-full bg-white rounded-3xl shadow-xl p-6 md:p-8 space-y-6 border border-gray-200">
        <h2 class="text-3xl font-bold text-center text-purple-700 mb-6">Buku Tamu & Konfirmasi Kehadiran</h2>

        <!-- Loading Indicator -->
        <div id="loadingIndicator" class="text-center text-gray-600 hidden">
            <i class="fas fa-spinner fa-spin text-purple-500 text-2xl"></i> Memuat...
        </div>

        <!-- Form Komentar dan RSVP -->
        <form id="commentForm" class="space-y-4">
            <div>
                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Nama Anda <span class="text-red-500">*</span></label>
                <input type="text" id="name" name="name" required
                       class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm placeholder-gray-400"
                       placeholder="Contoh: Budi & Keluarga">
            </div>

            <div>
                <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Pesan & Doa Terbaik Anda</label>
                <textarea id="message" name="message" rows="4"
                          class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm placeholder-gray-400"
                          placeholder="Selamat atas pernikahannya! Semoga bahagia selalu..."></textarea>
            </div>

            <div class="space-y-2">
                <p class="block text-sm font-medium text-gray-700">Konfirmasi Kehadiran <span class="text-red-500">*</span></p>
                <div class="flex flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
                    <label class="inline-flex items-center bg-green-100 text-green-800 px-4 py-2 rounded-full cursor-pointer hover:bg-green-200 transition-colors duration-200">
                        <input type="radio" name="rsvp" value="Hadir" class="form-radio text-green-600 h-4 w-4" required>
                        <span class="ml-2 text-sm font-medium">Hadir</span>
                    </label>
                    <label class="inline-flex items-center bg-red-100 text-red-800 px-4 py-2 rounded-full cursor-pointer hover:bg-red-200 transition-colors duration-200">
                        <input type="radio" name="rsvp" value="Tidak Hadir" class="form-radio text-red-600 h-4 w-4">
                        <span class="ml-2 text-sm font-medium">Tidak Hadir</span>
                    </label>
                </div>
            </div>

            <div id="guestCountField" class="hidden">
                <label for="guestCount" class="block text-sm font-medium text-gray-700 mb-1">Jumlah Tamu (termasuk Anda)</label>
                <input type="number" id="guestCount" name="guestCount" min="1" value="1"
                       class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm placeholder-gray-400">
            </div>

            <button type="submit"
                    class="w-full bg-purple-600 text-white py-3 px-4 rounded-lg shadow-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors duration-200 font-semibold text-lg">
                Kirim Pesan & RSVP
            </button>
        </form>

        <hr class="my-6 border-t border-gray-200">

        <!-- Bagian Komentar -->
        <div class="space-y-4">
            <h3 class="text-2xl font-bold text-center text-purple-700">Ucapan & Doa Tamu</h3>
            <div id="commentsContainer" class="comments-container max-h-96 overflow-y-auto pr-2 space-y-4">
                <!-- Komentar akan dimuat di sini oleh JavaScript -->
                <p class="text-center text-gray-500" id="noCommentsMessage">Belum ada ucapan. Jadilah yang pertama!</p>
            </div>
        </div>
    </div>

    <!-- Custom Modal for Messages -->
    <div id="customModal" class="modal-overlay hidden">
        <div class="modal-content">
            <p id="modalMessage" class="text-lg font-medium text-gray-800 mb-4"></p>
            <button id="modalCloseButton" class="bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors duration-200">Tutup</button>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, serverTimestamp, doc, updateDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables provided by Canvas environment
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let app;
        let db;
        let auth;
        let userId = null;
        let isAuthReady = false;

        const loadingIndicator = document.getElementById('loadingIndicator');
        const commentForm = document.getElementById('commentForm');
        const commentsContainer = document.getElementById('commentsContainer');
        const noCommentsMessage = document.getElementById('noCommentsMessage');
        const guestCountField = document.getElementById('guestCountField');
        const rsvpRadios = document.querySelectorAll('input[name="rsvp"]');
        const customModal = document.getElementById('customModal');
        const modalMessage = document.getElementById('modalMessage');
        const modalCloseButton = document.getElementById('modalCloseButton');

        // Function to show custom modal
        function showModal(message) {
            modalMessage.textContent = message;
            customModal.classList.remove('hidden');
        }

        // Event listener for modal close button
        modalCloseButton.addEventListener('click', () => {
            customModal.classList.add('hidden');
        });

        // Toggle guest count field based on RSVP selection
        rsvpRadios.forEach(radio => {
            radio.addEventListener('change', (event) => {
                if (event.target.value === 'Hadir') {
                    guestCountField.classList.remove('hidden');
                } else {
                    guestCountField.classList.add('hidden');
                }
            });
        });

        // Initialize Firebase and authenticate
        async function initializeFirebase() {
            try {
                loadingIndicator.classList.remove('hidden'); // Show loading indicator
                app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                // Sign in with custom token or anonymously
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }

                // Listen for auth state changes
                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                        isAuthReady = true;
                        console.log("Firebase initialized and user authenticated:", userId);
                        setupRealtimeCommentsListener(); // Setup listener after auth is ready
                    } else {
                        userId = null;
                        isAuthReady = false;
                        console.log("No user signed in.");
                    }
                    loadingIndicator.classList.add('hidden'); // Hide loading indicator once auth is done
                });

            } catch (error) {
                console.error("Error initializing Firebase or authenticating:", error);
                showModal("Terjadi kesalahan saat memuat data. Mohon coba lagi nanti.");
                loadingIndicator.classList.add('hidden'); // Hide loading indicator on error
            }
        }

        // Function to render a single comment card
        function renderComment(comment) {
            const commentCard = document.createElement('div');
            commentCard.id = `comment-${comment.id}`; // Add ID for easy updates
            commentCard.className = 'bg-white p-4 rounded-xl shadow-md border border-gray-100 animate-fade-in';
            commentCard.innerHTML = `
                <div class="flex items-center mb-2">
                    <div class="w-10 h-10 bg-purple-200 rounded-full flex items-center justify-center text-purple-700 font-bold text-lg mr-3">
                        ${comment.name ? comment.name.charAt(0).toUpperCase() : '?'}
                    </div>
                    <div>
                        <p class="font-semibold text-gray-800">${comment.name || 'Anonim'}</p>
                        <p class="text-xs text-gray-500">${comment.timestamp ? new Date(comment.timestamp.toDate()).toLocaleString('id-ID') : 'Baru saja'}</p>
                    </div>
                    <div class="ml-auto flex items-center space-x-2">
                        ${comment.rsvpStatus === 'Hadir' ? `<span class="bg-green-100 text-green-700 text-xs font-medium px-2.5 py-0.5 rounded-full">Hadir (${comment.guestCount || 1})</span>` : ''}
                        ${comment.rsvpStatus === 'Tidak Hadir' ? `<span class="bg-red-100 text-red-700 text-xs font-medium px-2.5 py-0.5 rounded-full">Tidak Hadir</span>` : ''}
                    </div>
                </div>
                <p class="text-gray-700 mb-3">${comment.message || ''}</p>
                <div class="flex space-x-3">
                    <button class="emoji-button text-xl" data-emoji="‚ù§Ô∏è" data-comment-id="${comment.id}">‚ù§Ô∏è <span class="emoji-counter">${comment.reactions?.['‚ù§Ô∏è'] || ''}</span></button>
                    <button class="emoji-button text-xl" data-emoji="üéâ" data-comment-id="${comment.id}">üéâ <span class="emoji-counter">${comment.reactions?.['üéâ'] || ''}</span></button>
                    <button class="emoji-button text-xl" data-emoji="üôè" data-comment-id="${comment.id}">üôè <span class="emoji-counter">${comment.reactions?.['üôè'] || ''}</span></button>
                </div>
            `;
            return commentCard;
        }

        // Setup real-time listener for comments
        function setupRealtimeCommentsListener() {
            if (!isAuthReady || !db) {
                console.log("Firebase not ready for comments listener.");
                return;
            }

            const commentsCollectionRef = collection(db, `artifacts/${appId}/public/data/invitationComments`);
            const q = query(commentsCollectionRef, orderBy('timestamp', 'desc'));

            onSnapshot(q, (snapshot) => {
                let hasComments = false;
                snapshot.docChanges().forEach((change) => {
                    const commentData = { id: change.doc.id, ...change.doc.data() };
                    hasComments = true;

                    if (change.type === "added") {
                        // Add new comment to the top
                        const newCommentCard = renderComment(commentData);
                        commentsContainer.prepend(newCommentCard);
                    }
                    if (change.type === "modified") {
                        // Update existing comment
                        const existingCard = document.getElementById(`comment-${commentData.id}`);
                        if (existingCard) {
                            existingCard.replaceWith(renderComment(commentData));
                        }
                    }
                    if (change.type === "removed") {
                        // Remove comment
                        const existingCard = document.getElementById(`comment-${commentData.id}`);
                        if (existingCard) {
                            existingCard.remove();
                        }
                    }
                });

                // Show/hide "no comments" message
                if (commentsContainer.children.length === 0 || !hasComments) {
                    noCommentsMessage.classList.remove('hidden');
                } else {
                    noCommentsMessage.classList.add('hidden');
                }

                // Add event listeners for emoji buttons after comments are rendered/updated
                document.querySelectorAll('.emoji-button').forEach(button => {
                    button.onclick = handleEmojiReaction;
                });
            }, (error) => {
                console.error("Error listening to comments:", error);
                showModal("Gagal memuat ucapan tamu. Silakan coba refresh halaman.");
            });
        }

        // Handle emoji reactions
        async function handleEmojiReaction(event) {
            if (!isAuthReady || !db) {
                showModal("Sistem belum siap. Mohon tunggu sebentar.");
                return;
            }

            const button = event.currentTarget;
            const commentId = button.dataset.commentId;
            const emoji = button.dataset.emoji;

            if (!commentId || !emoji) {
                console.error("Missing comment ID or emoji for reaction.");
                return;
            }

            try {
                const commentRef = doc(db, `artifacts/${appId}/public/data/invitationComments`, commentId);
                // Atomically increment the reaction count
                await updateDoc(commentRef, {
                    [`reactions.${emoji}`]: (commentRef.reactions?.[emoji] || 0) + 1
                }, { merge: true }); // Use merge to only update the reactions field
                console.log(`Reacted with ${emoji} to comment ${commentId}`);
            } catch (error) {
                console.error("Error updating reaction:", error);
                showModal("Gagal menambahkan reaksi. Mohon coba lagi.");
            }
        }

        // Handle form submission
        commentForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            if (!isAuthReady || !db) {
                showModal("Sistem belum siap. Mohon tunggu sebentar.");
                return;
            }

            const name = document.getElementById('name').value.trim();
            const message = document.getElementById('message').value.trim();
            const rsvpStatus = document.querySelector('input[name="rsvp"]:checked')?.value;
            const guestCount = document.getElementById('guestCount').value;

            if (!name || !rsvpStatus) {
                showModal("Nama dan Konfirmasi Kehadiran wajib diisi.");
                return;
            }

            try {
                const commentsCollectionRef = collection(db, `artifacts/${appId}/public/data/invitationComments`);
                await addDoc(commentsCollectionRef, {
                    name: name,
                    message: message,
                    rsvpStatus: rsvpStatus,
                    guestCount: rsvpStatus === 'Hadir' ? parseInt(guestCount, 10) : null,
                    timestamp: serverTimestamp(),
                    userId: userId, // Store the user ID who posted
                    reactions: {} // Initialize reactions object
                });

                showModal("Terima kasih! Pesan dan konfirmasi kehadiran Anda telah terkirim.");
                commentForm.reset(); // Clear the form
                guestCountField.classList.add('hidden'); // Hide guest count field after submission
            } catch (error) {
                console.error("Error adding document: ", error);
                showModal("Gagal mengirim pesan. Mohon coba lagi.");
            }
        });

        // Initialize Firebase when the window loads
        window.onload = initializeFirebase;
    </script>
</body>
</html>


